// open menu state
.megamenu__handler:checked{

  & ~ .megamenu { left: 0; }

  & ~ .megamenu__label {
    position: fixed;
    top: 0;
    left: 100%;
    margin-left: -$width--touch-target;
  }

  & ~ .megamenu__label .lines {
    //hide the middle line
    background: transparent;

    //overlay the lines by setting both their top values to 0
    &:before,
    &:after{
      top: 0;
    }

    // rotate the lines to form the x shape
    &:before{ transform: rotate3d(0,0,1,45deg); }

    &:after{ transform: rotate3d(0,0,1,-45deg); }
  }
}